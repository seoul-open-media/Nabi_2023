#N struct g3 float x float y float q;
#N struct g2 float x float y float q;
#N struct g1 float x float y float q;
#N canvas 509 340 1159 478 12;
#X floatatom 212 110 5 0 0 2 state state -;
#X obj 211 182 prepend set;
#X msg 211 207 0 STATE_INIT;
#X obj 212 135 text get state_text;
#X obj 211 158 list trim;
#X floatatom 424 108 5 0 0 2 Actuator_state a_state -;
#X obj 423 180 prepend set;
#X msg 423 205 0 STATE_GOING_DOWN;
#X obj 423 156 list trim;
#X obj 424 133 text get a_state_text;
#X obj 583 102 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 649 108 5 0 0 2 Turn_type turn_type -;
#X obj 648 180 prepend set;
#X msg 648 205 0 TURN_RIGHT;
#X obj 648 156 list trim;
#X obj 649 133 text get turn_type_text;
#X obj 652 233 hsl 128 15 1 0 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 12700 1;
#X floatatom 841 104 5 0 0 2 Movement_type movement_type -;
#X obj 840 176 prepend set;
#X msg 840 201 0 none;
#X obj 840 152 list trim;
#X obj 841 129 text get movement_type_text;
#X obj 1048 106 vsl 15 128 2 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 12700 1;
#X floatatom 158 23 5 0 0 2 Theta theta -;
#X obj 158 65 vsl 15 200 0 180 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6979 1;
#X floatatom 210 22 5 0 0 2 Sensor_Value sensor_value -;
#N canvas 72 96 620 594 graphic 0;
#X scalar g3 50 50 0 \;;
#X scalar g2 50 50 0 \;;
#X scalar g1 50 50 0 \;;
#X restore 16 70 pd graphic;
#N canvas 72 110 1804 759 Serial 1;
#X msg 37 77 devices;
#X msg 104 77 open 32;
#X obj 37 104 comport 32 9600;
#X msg 69 179 zlclear;
#X obj 69 155 sel 255;
#X obj 37 130 t a a;
#X floatatom 63 586 5 0 0 3 state - state;
#X floatatom 156 590 5 0 0 1 - - -;
#X floatatom 223 589 5 0 0 1 - - -;
#X obj 37 208 zl group 25;
#X obj 37 552 unpack f f f f f f f f f f f f f f f f f f f f f f f
f f, f 215;
#X obj 158 622 * 255;
#X obj 177 653 +;
#X obj 177 681 / 1000;
#X floatatom 176 710 5 0 0 3 theta - theta;
#X floatatom 278 588 5 0 0 1 - - -;
#X floatatom 345 587 5 0 0 1 - - -;
#X obj 280 620 * 255;
#X obj 299 651 +;
#X floatatom 299 710 5 0 0 3 sensor_value - sensor_value;
#X floatatom 410 587 5 0 0 1 - - -;
#X floatatom 473 587 5 0 0 1 - - -;
#X floatatom 535 585 5 0 0 1 - - -;
#X floatatom 598 585 5 0 0 1 - - -;
#X floatatom 661 587 5 0 0 1 - - -;
#X floatatom 724 587 5 0 0 1 - - -;
#X floatatom 786 585 5 0 0 3 LPS1_x - LPS1_x;
#X floatatom 849 585 5 0 0 3 LPS1_y - LPS1_y;
#X floatatom 914 586 5 0 0 3 LPS2_x - LPS2_x;
#X floatatom 977 586 5 0 0 3 LPS2_y - LPS2_y;
#X text 408 607 received_distance_result--------------------------
;
#X floatatom 1037 590 5 0 0 3 my_coordinate_x - my_coordinate_x;
#X floatatom 1099 637 5 0 0 3 my_coordinate_y - my_coordinate_y;
#X floatatom 1354 593 5 0 0 3 destination_x - destination_x;
#X floatatom 1416 640 5 0 0 3 destination_y - destination_y;
#X floatatom 1161 591 5 0 0 3 a_state - a_state;
#X floatatom 1479 595 5 0 0 3 turn_type - turn_type;
#X floatatom 1561 590 5 0 0 3 movement_type - movement_type;
#X floatatom 439 62 5 0 0 0 - - -;
#X obj 440 89 t b f;
#X msg 104 52 close;
#X text 775 37 0: brakeAll() \; servoStraight() \; stopActuator() \;
1: pullActuator() \; 2: pushActuator() \; 3: brakeAll() \; 4: brakeAllRelease()
\; 5: brake12() \; 6: brake34() \; 7: servoStraight() \; 8: servoLeft()
\; 9: servoRight() \;;
#X text 606 38 0: brake12() \; servoStraight() \; stopActuator() \;
1: pullActuator() \; 2: pushActuator() \; 3: brake34() \; 4: brake12()
\; 5: ReleaseAllBrake() \; 6: brakeAll() \; 7: servoStraight() \; 8:
servoLeft() \; 9: servoRight() \;;
#X text 484 18 MODE_BASIC_TEST;
#X obj 1009 173 s message;
#X obj 165 79 r message;
#X text 1013 65 Go Straight;
#X obj 1278 214 s message;
#X obj 405 160 s message;
#X text 1138 13 MODE_BASIC_MOVEMENT;
#X text 1283 166 Stop;
#X text 780 2 Initial setup;
#X text 624 3 Actual Behabiour;
#X text 1280 63 255 \, 2nd_byte(0 \, 1) \, 3rd_byte(destination_x)
\, 4th_byte(destination_y) \, 5th_byte(mode) \, 6th_byte(function)
\, 7th_byte(sensor_min) \, 8th_byte(sensor_max);
#X text 1281 126 sensor_min defalut 240;
#X text 1283 145 sensor_max defalut 150;
#X msg 1278 188 255 0 1 1 2 0 0 0;
#X obj 405 133 pack 255 0 1 1 1 1 0 0;
#X msg 267 108 255 0 1 1 1 1 0 0;
#X msg 1007 90 255 0 1 1 2 1 240 75;
#X msg 1009 147 255 0 1 1 2 1 75 100;
#X msg 1008 118 255 0 1 1 2 1 190 230;
#X obj 1017 310 s message;
#X msg 1015 227 255 0 1 1 2 2 240 75;
#X msg 1016 255 255 0 1 1 2 2 190 230;
#X msg 1017 284 255 0 1 1 2 2 75 100;
#X text 1021 202 Go Right;
#X obj 1019 449 s message;
#X text 1023 341 Go Left;
#X msg 1017 366 255 0 1 1 2 3 240 75;
#X msg 1018 394 255 0 1 1 2 3 190 230;
#X msg 1019 423 255 0 1 1 2 3 75 100;
#X connect 0 0 2 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 9 0;
#X connect 5 1 4 0;
#X connect 7 0 11 0;
#X connect 8 0 12 1;
#X connect 9 0 10 0;
#X connect 10 1 6 0;
#X connect 10 2 7 0;
#X connect 10 3 8 0;
#X connect 10 4 15 0;
#X connect 10 5 16 0;
#X connect 10 6 20 0;
#X connect 10 7 21 0;
#X connect 10 8 22 0;
#X connect 10 9 23 0;
#X connect 10 10 24 0;
#X connect 10 11 25 0;
#X connect 10 12 26 0;
#X connect 10 13 27 0;
#X connect 10 14 28 0;
#X connect 10 15 29 0;
#X connect 10 16 31 0;
#X connect 10 17 32 0;
#X connect 10 18 35 0;
#X connect 10 21 33 0;
#X connect 10 22 34 0;
#X connect 10 23 36 0;
#X connect 10 24 37 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 17 0;
#X connect 16 0 18 1;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 38 0 39 0;
#X connect 39 0 57 0;
#X connect 39 1 57 5;
#X connect 40 0 2 0;
#X connect 45 0 2 0;
#X connect 56 0 47 0;
#X connect 57 0 48 0;
#X connect 58 0 2 0;
#X connect 59 0 44 0;
#X connect 60 0 44 0;
#X connect 61 0 44 0;
#X connect 63 0 62 0;
#X connect 64 0 62 0;
#X connect 65 0 62 0;
#X connect 69 0 67 0;
#X connect 70 0 67 0;
#X connect 71 0 67 0;
#X restore 14 15 pd Serial;
#N canvas 72 96 334 170 text 0;
#X obj 34 17 text define -k state_text;
#A set 0 STATE_INIT \; 1 STATE_FORWARD_BACKWARD_DECISION \; 2 STATE_TURN_DECISION
\; 3 STATE_STANDUP_BEFORE_TURN \; 4 STATE_TURN \; 5 STATE_CHECK_ANGLE
\; 6 STATE_MOVE \; 7 STATE_STOP_STANDUP \;;
#X obj 33 43 text define -k a_state_text;
#A set 0 STATE_GOING_DOWN \; 1 STATE_GOING_UP \;;
#X obj 34 68 text define -k turn_type_text;
#A set 0 TURN_RIGHT \; 1 TURN_LEFT \;;
#X obj 34 93 text define -k movement_type_text;
#A set 0 none \; 1 MOVE_FORWARD \; 2 MOVE_BACKWARD \;;
#X restore 16 44 pd text;
#N canvas 669 351 1305 765 p1 0;
#X msg 164 104 traverse pd-graphic;
#X obj 158 167 pointer;
#X msg 179 130 bang;
#X msg 74 153 50 50;
#X obj 84 58 t b b b;
#X obj 79 30 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 156 33 \; pd-graphic clear;
#X floatatom 172 218 5 0 0 0 - - -;
#X floatatom 290 230 5 0 0 0 - - -;
#X obj 68 197 append g2 x y;
#X obj 74 329 struct g2 float x float y float q;
#X obj 197 250 set g2 y;
#X obj 79 238 set g2 x;
#X obj 76 354 filledpolygon 90 90 3 0 0 10 0 10 10 0 10;
#X obj 18 15 loadbang;
#X obj 25 62 delay 1000;
#X obj 216 179 inlet;
#X obj 292 198 inlet;
#X connect 0 0 1 0;
#X connect 1 0 9 2;
#X connect 2 0 1 0;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X connect 4 2 0 0;
#X connect 5 0 4 0;
#X connect 7 0 12 0;
#X connect 8 0 11 0;
#X connect 9 0 11 1;
#X connect 9 0 12 1;
#X connect 14 0 15 0;
#X connect 15 0 5 0;
#X connect 16 0 7 0;
#X connect 17 0 8 0;
#X restore 15 179 pd p1;
#N canvas 72 183 473 454 p2 0;
#X obj 71 241 append g1 x y;
#X msg 167 148 traverse pd-graphic;
#X obj 161 211 pointer;
#X msg 182 174 bang;
#X msg 77 197 50 50;
#X obj 87 102 t b b b;
#X obj 82 74 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 159 77 \; pd-graphic clear;
#X floatatom 175 262 5 0 0 0 - - -;
#X obj 82 282 set g1 x;
#X floatatom 293 274 5 0 0 0 - - -;
#X obj 200 294 set g1 y;
#X obj 77 373 struct g1 float x float y float q;
#X obj 79 398 filledpolygon 50 12 3 0 0 500 0 500 500 0 500;
#X obj 81 17 loadbang;
#X obj 82 46 t b b;
#X connect 0 0 9 1;
#X connect 0 0 11 1;
#X connect 1 0 2 0;
#X connect 2 0 0 2;
#X connect 3 0 2 0;
#X connect 4 0 0 0;
#X connect 5 0 4 0;
#X connect 5 1 3 0;
#X connect 5 2 1 0;
#X connect 6 0 5 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 6 0;
#X connect 15 1 7 0;
#X restore 15 99 pd p2;
#X floatatom 14 149 5 0 0 0 - - -;
#X floatatom 60 149 5 0 0 0 - - -;
#N canvas 290 208 1305 765 p3 0;
#X msg 164 104 traverse pd-graphic;
#X obj 158 167 pointer;
#X msg 179 130 bang;
#X msg 74 153 50 50;
#X obj 97 48 t b b b;
#X obj 79 30 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 156 33 \; pd-graphic clear;
#X floatatom 172 218 5 0 0 0 - - -;
#X floatatom 290 230 5 0 0 0 - - -;
#X obj 18 15 loadbang;
#X obj 216 179 inlet;
#X obj 292 198 inlet;
#X obj 68 197 append g3 x y;
#X obj 79 238 set g3 x;
#X obj 197 250 set g3 y;
#X obj 76 354 filledpolygon 1 1 3 0 0 10 0 10 10 0 10;
#X obj 74 329 struct g3 float x float y float q;
#X obj 14 53 delay 2000;
#X connect 0 0 1 0;
#X connect 1 0 12 2;
#X connect 2 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X connect 4 2 0 0;
#X connect 5 0 4 0;
#X connect 7 0 13 0;
#X connect 8 0 14 0;
#X connect 9 0 17 0;
#X connect 10 0 7 0;
#X connect 11 0 8 0;
#X connect 12 0 13 1;
#X connect 12 0 14 1;
#X connect 17 0 5 0;
#X restore 16 249 pd p3;
#X floatatom 13 218 5 0 0 0 - - -;
#X floatatom 59 218 5 0 0 0 - - -;
#X floatatom 331 17 5 0 0 3 LPS1_x LPS1_x -;
#X floatatom 394 17 5 0 0 3 LPS1_y LPS1_y -;
#X floatatom 459 18 5 0 0 3 LPS2_x LPS2_x -;
#X floatatom 522 18 5 0 0 3 LPS2_y LPS2_y -;
#X floatatom 610 18 5 0 0 3 my_coordinate_x my_coordinate_x -;
#X floatatom 731 17 5 0 0 3 my_coordinate_y my_coordinate_y -;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 9 0;
#X connect 5 0 10 0;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X connect 9 0 8 0;
#X connect 11 0 15 0;
#X connect 11 0 16 0;
#X connect 12 0 13 0;
#X connect 14 0 12 0;
#X connect 15 0 14 0;
#X connect 17 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 19 0;
#X connect 20 0 18 0;
#X connect 21 0 20 0;
#X connect 23 0 24 0;
#X connect 31 0 29 0;
#X connect 32 0 29 1;
#X connect 34 0 33 0;
#X connect 35 0 33 1;
